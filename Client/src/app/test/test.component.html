<app-sidebar class="app-side-bar">

  <div class="design-boundary">
    <ng-container *ngFor="let item of crdtwsService.document |keyvalue; let idx = index">
      <mat-form-field appCustomizable cdkDragBoundary=".design-boundary" class="example-box" [domRect]="item.value.domRect"
                      (itemResized)="itemResized$.next({ domRect: $event, id: item.key})" (itemDropped)="itemDropped$.next({ domRect: $event, id: item.key})"
                      (itemRemoved)="deleteItem(item.key)" *ngIf="item.value.itemType === 'input'">
        <mat-label>{{item.value.metaData?.label}}</mat-label>
        <input readonly="true" matInput [ngModel]="item.value.metaData?.value">
      </mat-form-field>

      <mat-form-field appCustomizable cdkDragBoundary=".design-boundary" class="example-box" [domRect]="item.value.domRect"
                      (itemResized)="itemResized$.next({ domRect: $event, id: item.key})" (itemDropped)="itemDropped$.next({ domRect: $event, id: item.key})"
                      (itemRemoved)="deleteItem(item.key)" *ngIf="item.value.itemType === 'textArea'">
        <mat-label>{{item.value.metaData?.label}}</mat-label>
        <textarea readonly="true" matInput [ngModel]="item.value.metaData?.value"> </textarea>
      </mat-form-field>

      <div appCustomizable class="example-box" cdkDragBoundary=".design-boundary" [domRect]="item.value.domRect"
           (itemResized)="itemResized$.next({ domRect: $event, id: item.key})" (itemDropped)="itemDropped$.next({ domRect: $event, id: item.key})"
           (itemRemoved)="deleteItem(item.key)" *ngIf="item.value.itemType === 'button'">
        <button mat-flat-button> {{item.value.metaData?.label}} </button>
      </div>

      <div appCustomizable class="example-box" cdkDragBoundary=".design-boundary" [domRect]="item.value.domRect"
           (itemResized)="itemResized$.next({ domRect: $event, id: item.key})" (itemDropped)="itemDropped$.next({ domRect: $event, id: item.key})"
           (itemRemoved)="deleteItem(item.key)" *ngIf="item.value.itemType === 'checkbox'">
        <mat-checkbox
                      class="example-margin"
                      [checked]="false"
                      [indeterminate]="false">
          {{item.value.metaData?.label}}
        </mat-checkbox>
      </div>

      <mat-form-field appCustomizable class="example-box" cdkDragBoundary=".design-boundary" [domRect]="item.value.domRect"
                      (itemResized)="itemResized$.next({ domRect: $event, id: item.key})" (itemDropped)="itemDropped$.next({ domRect: $event, id: item.key})"
                      (itemRemoved)="deleteItem(item.key)" *ngIf="item.value.itemType === 'select'">
        <mat-select name="sel" id="sel">
          <mat-option value="1"> item 1</mat-option>
          <mat-option value="2"> item 2</mat-option>
        </mat-select>
      </mat-form-field>
    </ng-container>
  </div>
</app-sidebar>
